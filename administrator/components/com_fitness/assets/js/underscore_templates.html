<!--  Status  -->
<script type="text/template" id="dialog_status_template">
    <div id="<%= wrapper %>">
        <img class="<%=  hide_image_class %>" src="<%= close_image %>" alt="close" title="close" >
        <% _.each(statuses, function(item, key){
            if(status_id != key) {
            %>
                <a class="<%= status_button_dialog %> <%= item.class %>" data-item_id="<%= item_id %>" data-status_id="<%= key %>" href="javascript:void(0)"> <%= item.label %></a>       
            <% 
            }
        })  
        if(show_send_email) {
        %>
            <input type="checkbox" id="send_diary_email" name="send_diary_email" value="1"> <span style="font-size:12px;">Send email</span>
        <% } %>
    </div>
      
</script>

<script type="text/template" id="status_button_template">
    <% _.each(statuses, function(item, key){
        if(status_id == key) {
        %>
            <a class="<%= status_button %> <%= item.class %>" data-item_id="<%= item_id %>" data-status_id="<%= key %>" href="javascript:void(0)"> <%= item.label %></a>       
        <% 
        }
    })  
    %>
</script>

<!-- Goals frontend  -->
<script type="text/template" id="default_goal_list_template">
    <div style="width:100%;text-align: right;">
        <select name="list_type" id="list_type">
            <option value="current">Current/Future Goals</option>
            <option value="previous">Previous Goals</option>
            <option value="current_primary_goal">Currrent Primary Goal</option>
            <option value="0">All Goals</option>
        </select> 
    </div>
    
    <div class="fitness_block_wrapper" style="min-height:200px;">
        <h3  style="float:left;">MY PRIMARY GOALS</h3>
        <h3 style="float:right;">MY MINI GOALS</h3>
        <div class="clr"></div>
        <hr class="orange_line">
        <div style="width:100%;" id="goals_wrapper">
        
        </div>
        <div class="internal_wrapper">
            <div style="width:100%;text-align: center;">
                <a style="cursor: pointer;" id="new_goal" onclick="javascript:void(0)">[New Goal]</a>
            </div>
        </div>
        <br/>
        <div style="width:100%;text-align: center;">
            Display # 
            <select name="items_number" id="items_number">
                <option value="1">1</option>
                <option value="5">5</option>
                <option selected="selected" value="10">10</option>
                <option value="20">20</option>
                <option value="all">All</option>
            </select> 
        </div>
    </div>
</script>

<script type="text/template" id="add_goal_template">
    <%
        var goal_type = model.get('goal_type');
    %>
    <div class="fitness_block_wrapper" style="min-height:200px;">
        <h3><%= title %></h3>
        <div class="clr"></div>
        <hr class="orange_line">
        <div class="internal_wrapper">
            <form action="" id="add_goal_form">
                <table>
                    <tr>
                        <td>
                            Start Date
                        </td>
                        <td>
                            <input style="width:60px;" readonly type="text" name="start_date" id="start_date" size="6" class="required">
                        </td>
                        <td>
                            (when will you begin training for this goal?)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Achieve By 
                        </td>
                        <td>
                            <input style="width:60px;" readonly type="text" name="deadline" id="deadline" size="6" class="required">
                        </td>
                        <td>
                            <% if(goal_type == 'primary_goal') { %>
                                (when do you wish to achieve your results?)
                            <% } else { %>
                                (when do you wish to achieve this mini goal?) 
                            <% } %>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <% if(goal_type == 'primary_goal') { %>
                                Goal Details (describe in as much detail as possible the results you envision and what it is you wish to achieve...)
                            <% } else { %>
                                Goal Details (describe your mini goal in detail and how it will help achieve your primary goal) 
                            <% } %>
                            
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td colspan="2">
                           <textarea name="details" id="details" rows="20" cols="90" class="required"></textarea> 
                        </td>
                    </tr>
                </table>
                <br/>
                <button type="submit" id="add_goal">Submit</button>
                <button type="submit" id="cancel_add_goal">Cancel</button>
            </form>
        </div>
    </div>
</script>


<script type="text/template" id="primary_goal_template">
    <%
    var pages_number = model.getLocalStorageItem('pages_number');
    var counter = 0;
    _.each(model.attributes.goals.primary_goals, function(item, key){
    
    counter++;
    
    if((counter > pages_number) && (pages_number != 'all')) return;
    %>
        <table width="100%">
            <tr>
                <td width="50%">
                    <table width="100%">
                        <tr>
                            <td style="width:120px;">
                                Primary Goal 
                            </td>
                            <td class="grey_title">
                                <%= model.setDefaultText(item.status, item.primary_goal_name) %>
                                <% if(model.statusReviewed(item.status) && !model.statusAssessing(item.status)) { %>
                                    <div style="width:50px;float: right;">
                                        <a data-id="<%= item.id %>" style="cursor: pointer;" class="open_goal" onclick="javascript:void(0)">[OPEN]</a>
                                    </div>
                                <% } %>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Start Date 
                            </td>
                            <td class="grey_title">
                                <%
                                var d1 = new Date(Date.parse(item.start_date));            
                                var start_date = moment(d1).format("dddd, D MMMM  YYYY");      
                                %>
                                <%= 
                                    model.setDefaultText(item.status, start_date) 
                                 %>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Achieve By 
                            </td>
                            <td class="grey_title">
                                <%
                                    var d2 = new Date(Date.parse(item.deadline));            
                                    var deadline = moment(d2).format("dddd, D MMMM  YYYY");      
                                %>
                                <%= model.setDefaultText(item.status, deadline) %>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Status 
                            </td>
                            <td>
                                <%= model.setStatus(item.status) %>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Goal Details 
                            </td>
                            <td class="grey_title">
                                <%= item.details %>
                            </td>
                        </tr>
                    </table>
                </td>
                <td>
                    <div class="minigoals_wrapper" style="width:100%;">
                    <% 
                    var primary_goal_id = item.id;
                    _.each(model.attributes.goals.mini_goals, function(item, key){ %>
                         <% if(primary_goal_id == item.primary_goal_id) { %>
                                <table width="100%">
                                    <tr>
                                        <td style="width:120px;">
                                            Mini Goal 
                                        </td>
                                        <td class="grey_title">
                                            <%= model.setDefaultText(item.status, item.mini_goal_name) %>
                                                <% if(model.statusReviewed(item.status) && !model.statusAssessing(item.status)) { %>
                                                <div style="width:50px;float: right;">
                                                    <a data-id="<%= item.id %>" style="cursor: pointer;" class="open_mini_goal" onclick="javascript:void(0)">[OPEN]</a>
                                                </div>
                                            <% } %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Training Period 
                                        </td>
                                        <td class="grey_title">
                                            <%= model.setDefaultText(item.status, item.training_period_name) %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Start Date 
                                        </td>
                                        <td class="grey_title">
                                            <%
                                            var d1 = new Date(Date.parse(item.start_date));            
                                            var start_date = moment(d1).format("dddd, D MMMM  YYYY");      
                                            %>
                                            <%= 
                                                model.setDefaultText(item.status, start_date) 
                                             %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Achieve By 
                                        </td>
                                        <td class="grey_title">
                                            <%
                                                var d2 = new Date(Date.parse(item.deadline));            
                                                var deadline = moment(d2).format("dddd, D MMMM  YYYY");      
                                            %>
                                            <%= model.setDefaultText(item.status, deadline) %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Status 
                                        </td>
                                        <td>
                                            <%= model.setStatus(item.status) %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Goal Details 
                                        </td>
                                        <td class="grey_title">
                                            <%= item.details %>
                                        </td>
                                    </tr>
                                </table>
                                <br/>
                                <hr>
                                <br/>
                            <%
                            }
                         %>
                    <% }) %>
                    </div>
                    <% if(!model.statusReviewed(item.status))  { %>
                        <div style="width:100%;text-align: right;">
                            <a data-id="<%= primary_goal_id %>" style="cursor: pointer;" class="new_mini_goal" onclick="javascript:void(0)">[New Mini Goal]</a>
                        </div>
                    <% } %>
                </td>
            </tr>
        </table>
        <br/>
        <hr>
        <br/>
    <% }) %>
</script>


<script type="text/template" id="goal_template">
    <div class="fitness_block_wrapper" style="min-height:200px;">
        
        <h3><%= title %></h3>
        <div class="clr"></div>
        <hr class="orange_line">
        <div class="internal_wrapper">
            <table width="100%">
                <tr>
                    <td width="50%">
                    <%
                        
                        var goal_type = model.attributes.goal_type;
                        var id = model.attributes.id;
                        
                        
                        var goals = model.attributes.goals.primary_goals
                        if(goal_type == 'mini_goal') {
                            goals = model.attributes.goals.mini_goals
                        }
                        
                        _.each(goals, function(item, key){
                            if(item.id == id) {
                                %>
                                <table width="100%">
                                    <% if(goal_type == 'primary_goal') { %>
                                    <tr>
                                        <td style="width:120px;">
                                            Primary Goal 
                                        </td>
                                        <td class="grey_title">
                                            <%= item.primary_goal_name %>
                                        </td>
                                    </tr>
                                    <% } else { %>
                                    <tr>
                                        <td style="width:120px;">
                                            Mini Goal 
                                        </td>
                                        <td class="grey_title">
                                            <%= item.mini_goal_name %>
                                        </td>
                                    </tr>                                    
                                    <% } %>
                                    
                                    <% if(goal_type == 'mini_goal') { %>
                                    <tr>
                                        <td>
                                            Training Period 
                                        </td>
                                        <td class="grey_title">
                                            <%= item.training_period_name %>
                                        </td>
                                    </tr>
                                    <% } %>
                                    <tr>
                                        <td>
                                            Start Date 
                                        </td>
                                        <td class="grey_title">
                                            <%
                                            var d1 = new Date(Date.parse(item.start_date));            
                                            var start_date = moment(d1).format("dddd, D MMMM  YYYY");      
                                            %>
                                            <%= 
                                                start_date 
                                             %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Achieve By 
                                        </td>
                                        <td class="grey_title">
                                            <%
                                                var d2 = new Date(Date.parse(item.deadline));            
                                                var deadline = moment(d2).format("dddd, D MMMM  YYYY");      
                                            %>
                                            <%= deadline %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Status 
                                        </td>
                                        <td>
                                            <%= model.setStatus(item.status) %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Goal Details 
                                        </td>
                                        <td class="grey_title">
                                            <%= item.details %>
                                        </td>
                                    </tr>
                                </table>
                                <%
                            }
                        });
                    
                    %>
                        
                        <button id="cancel_goal">CLOSE</button>
                    </td>
                    <td>
                        <div id="comments_wrapper" style="width:100%"></div>
                        <div class="clr"></div>
                        <br/>
                        <input id="add_comment_0" class="" type="button" value="Add Comment" >
                        <div class="clr"></div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</script>



<script type="text/template" id="nutrition_plan_template">
    <%
        var plan_data = model.attributes.plan_data;
    %>
    <table width="100%">
            <tr>
                <td width="40%">
                    <div class="fitness_block_wrapper" style="min-height:224px;">
                        <h3>MY TRAINERS</h3>
                        <hr class="orange_line">
                        <div class="internal_wrapper">
                            <table width="100%">
                                <tr>
                                    <td>
                                        Client Name
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%= plan_data.client_name %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Primary Trainer
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%= plan_data.trainer_name %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Secondary Trainers
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%
                                            var secondary_trainers = plan_data.secondary_trainers;
                                            _.each(secondary_trainers, function(item, key){ %>
                                                <%=  item + " <br/>" %>
                                            <%
                                            })
                                            
                                            %>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </td>
                <td>
                    <div class="fitness_block_wrapper" style="min-height:224px;">
                        <h3>NUTRITION PLAN & TRAINING PERIOD</h3>
                        <hr class="orange_line">
                        <div class="internal_wrapper">
                            <table width="100%">
                                <tr>
                                    <td>
                                        Primary Goal 
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%= plan_data.primary_goal_name %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Start Date
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%
                                            var d1 = new Date(Date.parse(plan_data.primary_goal_start_date));            
                                            var primary_goal_start_date = moment(d1).format("dddd D MMMM  YYYY");      
                                            %>
                                            <%= primary_goal_start_date %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Achieve By 
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%
                                            var d2 = new Date(Date.parse(plan_data.primary_goal_deadline));            
                                            var primary_goal_deadline = moment(d2).format("dddd D MMMM  YYYY");      
                                            %>
                                            <%= primary_goal_deadline %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <hr>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Mini Goal 
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%= plan_data.mini_goal_name %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Training Period 
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%= plan_data.training_period_name %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Start Date
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%
                                            var d3 = new Date(Date.parse(plan_data.active_start));            
                                            var active_start = moment(d3).format("dddd D MMMM  YYYY");      
                                            %>
                                            <%= active_start %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Achieve By 
                                    </td>
                                    <td>
                                        <span class="grey_title">
                                            <%
                                            var d4 = new Date(Date.parse(plan_data.active_finish));            
                                            var active_finish = moment(d4).format("dddd D MMMM  YYYY");      
                                            %>
                                            <%= active_finish %>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </td>
            </tr>
        </table>

        <br/>

        <div class="fitness_block_wrapper" style="min-height:150px;margin: 2px;">
            <h3>MY NUTRITION FOCUS</h3>
            <hr class="orange_line">
            <div class="internal_wrapper">
                <table width="100%">
                    <tr>
                        <td width="20%">
                            Nutrition Focus
                        </td>
                        <td>
                            <span class="grey_title">
                                 <%= plan_data.nutrition_focus_name %>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                            <%= plan_data.trainer_comments %>
                        </td>
                    </tr>
                </table> 
            </div>
        </div>

</script>


<!-- Nutrition Plan menu -->
<script type="text/template" id="nutrition_plan_menu_template">
     <ul>
        <li><a onclick="javascript:void(0)"  id="nutrition_focus_link" class="plan_menu_link"  href="javascript:void(0)">NUTRITION FOCUS</a></li>
        <li><a onclick="javascript:void(0)"  id="daily_targets_link" class="plan_menu_link"  href="javascript:void(0)">DAILY TARGETS</a></li>
        <li><a onclick="javascript:void(0)"  id="shopping_list_link" class="plan_menu_link"  href="javascript:void(0)">SHOPPING LISTS</a></li>
        <li><a onclick="javascript:void(0)"  id="diary_guide_link" class="plan_menu_link"  href="javascript:void(0)">DIARY GUIDE</a></li>
        <li><a onclick="javascript:void(0)"  id="information_link" class="plan_menu_link"  href="javascript:void(0)">INFORMATION</a></li>
        <li><a onclick="javascript:void(0)"  id="archive_focus_link" class="plan_menu_link"  href="javascript:void(0)">ARCHIVE</a></li>
        <li style="display:none;" id="close_tab" ><a onclick="javascript:void(0)"  id="close_link" class="plan_menu_link"  href="javascript:void(0)">CLOSE</a></li>
    </ul>
</script>



<!-- PAGINATION -->
<script type="text/template" id="backbone_pagination_template">
    <div id="bac_nav">
        <% if(currentPage > 1) { %>
            <a id="first_pag" title="First Page" href="javascript:void(0)">START</a>&#32; &#108;
            <a id="prev_pag" title="Previous Page" href="javascript:void(0)">PREV</a>
        <% } %>
        <ul id="ul-pagination"></ul>
        <% if(currentPage <  pages) { %>
            <a id="next_pag" title="Next Page" href="javascript:void(0)">NEXT</a>&#32;&#108;
            <a id="last_pag" title="Last Page" href="javascript:void(0)">END</a>
        <% } %>
    </div>
    <div style="width:100%;text-align: center;">
        Display # 
        <select name="items_number" id="items_number">
            <option value="2">2</option>
            <option value="5">5</option>
            <option selected="selected" value="10">10</option>
            <option value="20">20</option>
            <option value="50">50</option>
        </select> 
    </div>
</script>

<script id="template-page" type="text/template">
    <a id="a-page-item" class="<%= pageClass %>" href="javascript:void(0)"><%= pageNumber %></a>
</script>
<!-- END PAGINATION -->


<!-- Recipe Database -->

<!--  main menu template -->
<script type="text/template" id="recipe_database_mainmenu_template">
    <ul>
        <li><a onclick="javascript:void(0)" id="my_favourites_link" class="plan_menu_link"  href="#!/my_favourites">MY FAVOURITES</a></li>
        <li><a onclick="javascript:void(0)" id="my_recipes_link" class="plan_menu_link"  href="#!/my_recipes">MY RECIPES</a></li>
        <li><a onclick="javascript:void(0)" id="recipe_database_link" class="plan_menu_link"  href="#!/recipe_database">RECIPE DATABASE</a></li>
        <li><a onclick="javascript:void(0)" id="nutrition_database_link" class="plan_menu_link"  href="#!/nutrition_database">NUTRITION DATABASE</a></li>
    </ul>
</script>

<script type="text/template" id="recipe_database_submenu_template">
    <div class="fitness_block_wrapper" style="height:30px;margin-top: 20px;">
        <div class="internal_wrapper">
            <div id="submenu_container"></div>
        </div>
        <hr class="orange_line">
    </div>
</script>

<!--  submenu  My Recipes template -->
<script type="text/template" id="recipe_database_submenu_content_template">
    <div style="width:100%;">
        <a data-id="" style="cursor: pointer; float:left;" id="new_recipe" onclick="javascript:void(0)">[CREATE RECIPE]</a>
        <a data-id="" style="cursor: pointer;float:right;" id="view_trash" onclick="javascript:void(0)">[VIEW TRASH]</a>
    </div>
    <div class="clr"></div>
</script>

<!--  submenu  Trash List template -->
<script type="text/template" id="submenu_trash_list_template">
    <div style="width:100%;">
        <a data-id="" style="cursor: pointer;float:right;" id="close_trash_list" onclick="javascript:void(0)">[CLOSE TRASH]</a>
    </div>
    <div class="clr"></div>
</script>


<!--  submenu  Trash Form template -->
<script type="text/template" id="submenu_trash_form_template">
    <div style="width:100%;">
        <a data-id="<%= recipe_id %>" style="cursor: pointer;float:left;margin-right:10px;" class="delete_recipe" onclick="javascript:void(0)">[DELETE RECIPE]</a>
        <a data-id="<%= recipe_id %>" style="cursor: pointer;float:left;" class="restore_recipe" onclick="javascript:void(0)">[RESTORE RECIPE]</a>
        
        <a data-id="<%= recipe_id %>" style="cursor: pointer;float:right;" class="close_trash_form" onclick="javascript:void(0)">[CLOSE]</a>
    </div>
    <div class="clr"></div>
</script>

<!--  submenu  Edit Recipe template -->
<script type="text/template" id="submenu_edit_recipe_template">
    <div style="width:100%;">
        
        <a data-id="<%= recipe_id%>" style="cursor: pointer;float:right;margin-right:10px;" id="cancel" onclick="javascript:void(0)">[CANCEL]</a>

        <a data-id="<%= recipe_id%>" style="cursor: pointer;float:right;margin-right:10px;" id="save_close" onclick="javascript:void(0)">[SAVE/CLOSE]</a>

        <a data-id="<%= recipe_id%>" style="cursor: pointer;float:right;margin-right:10px;" id="save" onclick="javascript:void(0)">[SAVE]</a>
    </div>
    <div class="clr"></div>
</script>

<!--  submenu content for view/open My Recipes -->
<script type="text/template" id="submenu_my_recipes_template">
    <div style="width:100%;">
        <% if (is_favourite) {
            var display_remove_favourite = 'inline';
            var display_add_favourite = 'none';

        } else {  
            var display_add_favourite = 'inline';
            var display_remove_favourite = 'none';
        } %>
            <a data-id="<%= recipe_id %>" style="cursor: pointer;display:<%= display_remove_favourite%>" class="remove_favourites" onclick="javascript:void(0)">[REMOVE FAVOURITE]</a>

            <a data-id="<%= recipe_id %>" style="cursor: pointer;display:<%= display_add_favourite%>" class="add_favourite" onclick="javascript:void(0)">[ADD FAVOURITE]</a>
       
        <% if(nutrition_plan_id) {%>
         &#32;<a data-id="<%= recipe_id %>" style="cursor: pointer;" class="add_diary" onclick="javascript:void(0)">[ADD TO DIARY]</a>
        <% } %>

        <a data-id="<%= recipe_id %>" style="cursor: pointer;float:right;margin-right:10px;" class="trash_recipe" onclick="javascript:void(0)">[TRASH]</a>
        <a data-id="" style="cursor: pointer;float:right;margin-right:10px;" id="close_recipe" onclick="javascript:void(0)">[CLOSE]</a>
        <a data-id="<%= recipe_id %>" style="cursor: pointer; float:right;margin-right:10px;" class="edit_recipe" onclick="javascript:void(0)">[EDIT]</a>
    </div>
    <div class="clr"></div>
</script>

<!--  submenu content for view/open My Favourite -->
<script type="text/template" id="submenu_my_favourites_template">
    <div style="width:100%;">
        <a data-id="<%= recipe_id %>" style="cursor: pointer;" class="remove_favourites" onclick="javascript:void(0)">[REMOVE FAVOURITE]</a>
        <% if(nutrition_plan_id) {%>
         &#32;<a data-id="<%= recipe_id %>" style="cursor: pointer;" class="add_diary" onclick="javascript:void(0)">[ADD TO DIARY]</a>
        <% } %>

        <a data-id="" style="cursor: pointer;float:right;margin-right:10px;" id="close_recipe" onclick="javascript:void(0)">[CLOSE]</a>

    </div>
    <div class="clr"></div>
</script>

<!--  submenu content for view/open Recipe Database -->
<script type="text/template" id="submenu_recipe_database_template">
    <div style="width:100%;">

        <% if (is_favourite) {
            var display_remove_favourite = 'inline';
            var display_add_favourite = 'none';

        } else {  
            var display_add_favourite = 'inline';
            var display_remove_favourite = 'none';
        } %>
            <a data-id="<%= recipe_id %>" style="cursor: pointer;display:<%= display_remove_favourite%>" class="remove_favourites" onclick="javascript:void(0)">[REMOVE FAVOURITE]</a>

            <a data-id="<%= recipe_id %>" style="cursor: pointer;display:<%= display_add_favourite%>" class="add_favourite" onclick="javascript:void(0)">[ADD FAVOURITE]</a>

        
        <a data-id="" style="cursor: pointer;left;" id="copy_recipe" onclick="javascript:void(0)">[COPY TO MY RECIPES]</a>

        <% if(nutrition_plan_id) {%>
         &#32;<a data-id="<%= recipe_id %>" style="cursor: pointer;" class="add_diary" onclick="javascript:void(0)">[ADD TO DIARY]</a>
        <% } %>
    
    
        <a data-id="" style="cursor: pointer;float:right;margin-right:10px;" id="close_recipe" onclick="javascript:void(0)">[CLOSE]</a>
    </div>
    <div class="clr"></div>
</script>

<!--  submenu  Recipe Database List template -->
<script type="text/template" id="submenu_nutrition_database_list_template">
    <div style="width:100%;">
        <a  style="cursor: pointer;float:right;margin-right:10px;" id="add_item" onclick="javascript:void(0)">[ADD ITEM]</a>
    </div>
    <div class="clr"></div>
</script>

<!--  submenu  Recipe Database Item template -->
<script type="text/template" id="submenu_nutrition_database_item_template">
    <div style="width:100%;">
        <a  style="cursor: pointer;float:right;margin-right:10px;" id="cancel" onclick="javascript:void(0)">[CANCEL]</a>
        <a  style="cursor: pointer;float:right;margin-right:10px;" id="save_new" onclick="javascript:void(0)">[SAVE/NEW]</a>
        <a  style="cursor: pointer;float:right;margin-right:10px;" id="save_close" onclick="javascript:void(0)">[SAVE/CLOSE]</a>
        <a  style="cursor: pointer;float:right;margin-right:10px;" id="save" onclick="javascript:void(0)">[SAVE]</a>
    </div>
    <div class="clr"></div>
</script>



<!--  submenu  Add Diary template -->
<script type="text/template" id="submenu_add_diary_template">
    <div style="width:100%;">
        <div style="float:left;">Number of serves to add to my diary entry <input  style="display:inline;width:25px" maxlength="2" type="text" id="number_serves" name="number_serves"/> </div>
        <a  style="cursor: pointer;float:right;margin-right:10px;" id="cancel" onclick="javascript:void(0)">[CANCEL]</a>
        <a data-recipe_id="<%= recipe_id %>" style="cursor: pointer;float:right;margin-right:10px;" id="add_diary" onclick="javascript:void(0)">[ENTER]</a>
    </div>
    <div class="clr"></div>
</script>

<!--  recipe database main container template -->
<script type="text/template" id="recipe_database_recipes_container_template">
    <div class="fitness_block_wrapper" style="margin-top: 20px;">
        <div class="internal_wrapper">
            
            <table width="100%">
                <tr>
                    <td style="vertical-align:top;">
                        <div id="recipe_database_items_wrapper"></div>
                    </td>
                    <td width="200" style="vertical-align:top;">
                        <div id="recipe_database_filter_wrapper"></div>
                        <div class="clr"></div>
                        <br>
                        <div id="recipes_latest_wrapper"></div>
                    </td>
                </tr>
            <table>
            <div style="text-align:center;" id="pagination_container">
            </div>
        </div>
    </div>
</script>

<!--  recipe database main container template -->
<script type="text/template" id="recipe_database_edit_recipe_container_template">
    <%
    
    var recipe = recipe || {}; 
    
    
    %>
    <div class="fitness_block_wrapper" style="margin-top: 20px;">
        <div class="internal_wrapper">
            <table width="100%">
                <tr>
                    <td width="70%">
                        <table width="100%">
                            <tr>
                                <td>
                                    RECIPE NAME
                                </td>
                                <td>

                                    <input class="dark_input_style" value="<%= recipe.recipe_name || '' %>" style="width:400px;" maxlength="100"  type="text" name="recipe_name" id="recipe_name">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    RECIPE TYPE
                                </td>
                                <td>
                                <%
                                var selected_types = [];
                                if(typeof (recipe.recipe_type) !== 'undefined') {
                                    selected_types = (recipe.recipe_type).split(","); 
                                }
                                %>
                                    <select multiple size="10" id="recipe_type" name="recipe_type[]" class="dark_input_style" style="width:200px;">
                                        <% if (typeof recipe_types !== "undefined") { %>
                                            <% _.each(recipe_types, function(item, key){
                                                var selected = '';
                                                if(selected_types.indexOf(item.id) != -1) {
                                                    selected = 'selected';
                                                }
                                             %>
                                                  <option <%= selected %> value="<%= item.id %>"><%= item.name %></option>
                                            <% }) %>
                                        <% } %>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    SERVES
                                </td>
                                <td>
                                    <input class="dark_input_style" value="<%= recipe.number_serves || '' %>" style="width:30px;" type="text" maxlength="3"  name="number_serves" id="number_serves">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    AUTHOR
                                </td>
                                <td>
                                    <span class="grey_title">
                                        <%= recipe.author || '' %>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    STATUS
                                </td>
                                <td>
                                    <%= recipe_items_model.setStatus(recipe.status) %>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    TRAINER
                                </td>
                                <td>
                                    <%= recipe.trainer || '' %>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td style="text-align: right;">
                        <div id="image_upload_content"></div>
                    </td>
                </tr>
            </table>
            <br/>
            <div id="item_descriptions"></div>
            <br/>
            <h5>COOKING INSTRUCTIONS / METHOD</h5>
            
            <div id="instructions" style="min-height:200px;background: none repeat scroll 0 0 rgba(255, 255, 255, 0.1);padding:5px;" contenteditable="true"><%= recipe.instructions || '' %></div>
            <% if(recipe.id) { %>
                <br>
                <div id="comments_wrapper" style="width:99%"></div>
                <div class="clr"></div>
                <br/>
                <input id="add_comment_0" class="" type="button" value="Add Comment" >
                <div class="clr"></div>
            <% } %>
        </div>
    </div>
</script>



<script type="text/template" id="image_upload_template">
    <%
    var image = img_path + '/' + picture;
    if(!picture) {
        image = default_image;
    }
    //console.log(image)
    %>
        <div class="form-left-col" style="text-align:center;">
            <form name="image_form">
                Select & Upload New Image 
                <div class="clr"></div>
                <a style=" cursor: pointer !important; z-index:999;" href="javascript:void(0)">[Add Image]</a>
                <div class="clr"></div>
                <input type="file" name="change_image" id="change_image" style=" cursor: pointer !important; direction: ltr;font-size: 20px;margin:-22px 0 0; opacity: 0;position: relative;display: inline; right: 0;top:0px; width: 200px;"> 
                <div class="clr"></div>
                Or drag image here
            </form>
            <img data-imagepath="<%= img_path + '/' + picture %>" style="margin: 5px; display: inline-block;  height: 180px; width: 200px;border:2px dashed #ccc" height="<%= preview_height%>"  width="<%= preview_width%>" id="preview_image" src="<%= image %>"/>
            <br/>
            <a style="display: inline-block; margin-right: 50px;" href="javascript:void(0)" class="save">[Save]</a>
            <a href="javascript:void(0)" class="clear_image">[Clear]</a>
        </div>

    </script>
    

<!--  view/open recipe template -->
<script type="text/template" id="recipe_database_view_recipe_template">
    <%
    if(!image || image == 'images/Recipe_Images/'){
        image = window.app.recipe_items_model.get('default_image');
    }
    %>
    <div class="fitness_block_wrapper" style="margin-top: 20px;">
        <div class="internal_wrapper">
            <% var current_page = window.app.recipe_items_model.get('current_page'); %>
            <div class="recipe_database_item_wrapper" style="margin-top: 0px;">
                <table width="100%">
                    <tr>
                        <td width="40%">
                            <table  width="100%">
                                <tr>
                                    <td width="40%">RECIPE NAME</td>
                                    <td width="60%">
                                        <span class="grey_title">
                                             <%= recipe_name %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>RECIPE TYPE</td>
                                    <td>
                                        <span class="grey_title">
                                            <% 
                                            if(typeof recipe_types_names !== 'undefined') {
                                                _.each(recipe_types_names, function(item){ %>
                                                    <%= item + "<br/>" %>
                                                <% 
                                                })  
                                            }
                                            %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>SERVES</td>
                                    <td>
                                        <span class="grey_title">
                                             <%= number_serves %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>AUTHOR</td>
                                    <td>
                                        <span class="grey_title">
                                             <%= author %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>STATUS</td>
                                    <td>
                                        <span class="grey_title">
                                             <%= window.app.recipe_items_model.setStatus(status) %>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>TRAINER</td>
                                    <td>
                                        <span class="grey_title">
                                             <%= trainer || '-' %>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td width="30%" ></td>
                        <td width="30%" style="text-align:center; vertical-align:middle;">
                            <div class="recipe_database_image" style="display: inline-block;background-image: url('<%= image %>')"></div>
                        </td>
                    </tr>

                </table>
                <br/>
                <table width="100%">
                    <thead>
                        <th>MEAL ITEM/DESCRIPTION</th>
                        <th>QUANTITY</th>
                        <th>Protein</th>
                        <th>Fat</th>
                        <th>Carbs</th>
                        <th>Cals</th>
                        <th>Energy</th>
                        <th>Fat, Sat</th>
                        <th>Sug</th>
                        <th>Sod</th>
                    </thead>
                    <tbody>
                    <% _.each(recipe_meals, function(item){ %>
                        <tr class="table_border_top_dark">
                            <td width="30%">
                                <%= item.meal_name %>
                            </td>
                            <td>
                                <%= item.quantity + ' ' + item.measurement %>
                            </td>
                            <td>
                                <%= item.protein %>
                            </td>
                            <td>
                                <%= item.fats %>
                            </td>
                            <td>
                                <%= item.carbs %>
                            </td>
                            <td>
                                <%= item.calories %>
                            </td>
                            <td>
                                <%= item.energy %>
                            </td>
                            <td>
                                <%= item.saturated_fat %>
                            </td>
                            <td>
                                <%= item.total_sugars %>
                            </td>
                            <td>
                                <%= item.sodium %>
                            </td>
                        </tr>
                    <% 
                    })  
                    %>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td>
                                
                            </td>
                            <td class="table_border_top table_border_bottom">
                                TOTALS 
                            </td>
                            <td class="table_border_top table_border_bottom">
                                <%= protein %>
                            </td>
                            <td class="table_border_top table_border_bottom">
                                <%= fats %>
                            </td>
                            <td class="table_border_top table_border_bottom">
                                <%= carbs %>
                            </td>
                            <td class="table_border_top table_border_bottom">
                                <%= calories %>
                            </td>
                            <td class="table_border_top table_border_bottom">
                                <%= energy %>
                            </td>
                            <td class="table_border_top table_border_bottom">
                                <%= saturated_fat %>
                            </td>
                            <td class="table_border_top table_border_bottom">
                                <%= total_sugars %>
                            </td>
                            <td class="table_border_top table_border_bottom">
                                <%= sodium %>
                            </td>
                        </tr>
                    </tfoot>
                </table>
                <br>
                <h5>COOKING INSTRUCTIONS / METHOD</h5>
                <span style="width:100%" class="grey_title">
                    <%= instructions %>
                </span>
                
                <br>
                <div id="comments_wrapper" style="width:99%"></div>
                <div class="clr"></div>
                <br/>
                <input id="add_comment_0" class="" type="button" value="Add Comment" >
                <div class="clr"></div>
            </div>
        </div>
    </div>

</script>


<!--  item recipe list template -->
<script type="text/template" id="recipe_database_item_template">
    <%
    if(!image || image == 'images/Recipe_Images/'){
        image = window.app.recipe_items_model.get('default_image');
    }
    %>
    <% var current_page = window.app.recipe_items_model.get('current_page'); %>
    <div    class="recipe_database_item_wrapper" data-id="<%= id%>" style="margin-top: 0px;">
        <table width="100%">
            <tr>
                <td width="30%" style="text-align:center; vertical-align:middle;">
                    <div class="recipe_database_image" style="display: inline-block;background-image: url('<%= image %>')"></div>
                </td>
                <td width="50%">
                    <table  width="100%">
                        <tr>
                            <td width="40%">RECIPE NAME</td>
                            <td width="60%">
                                <span class="grey_title">
                                     <%= recipe_name %>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>RECIPE TYPE</td>
                            <td>
                                <span class="grey_title">
                                    <% 
                                    if(typeof recipe_types_names !== 'undefined') {
                                        _.each(recipe_types_names, function(item){ %>
                                            <%= item + "<br/>" %>
                                        <% 
                                        })  
                                    }
                                    %>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>SERVES</td>
                            <td>
                                <span class="grey_title">
                                     <%= number_serves %>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>AUTHOR</td>
                            <td>
                                <span class="grey_title">
                                     <%= author %>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>STATUS</td>
                            <td>
                                <span class="grey_title">
                                     <%= model.setStatus(status) %>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>TRAINER</td>
                            <td>
                                <span class="grey_title">
                                     <%= trainer || '-' %>
                                </span>
                            </td>
                        </tr>
                    </table>
                </td>
                <td style="text-align:center; vertical-align:bottom;">
                    <% if(model.nutrition_plan_id) {   %>
                    <a data-id="<%= id %>" style="cursor: pointer;" class="add_diary" onclick="javascript:void(0)">[add to diary]</a>
                    <br/><br/>
                    <% } %>
            
                    <a data-id="<%= id %>" style="cursor: pointer;" class="view_recipe" onclick="javascript:void(0)">[view recipe]</a>
                    
                    <% if ((current_page == 'my_recipes') || (current_page == 'recipe_database')) { %>
                        <br/><br/>
                        <% if (is_favourite) {
                            var display_remove_favourite = 'inline';
                            var display_add_favourite = 'none';
                            
                        } else {  
                            var display_add_favourite = 'inline';
                            var display_remove_favourite = 'none';
                        } %>
                            <a data-id="<%= id %>" style="cursor: pointer;display:<%= display_remove_favourite%>" class="remove_favourites" onclick="javascript:void(0)">[remove favourite]</a>

                            <a data-id="<%= id %>" style="cursor: pointer;display:<%= display_add_favourite%>" class="add_favourite" onclick="javascript:void(0)">[add favourite]</a>
                    <% } %>
                    
                     <br/><br/>
                    <% if(current_page == 'my_recipes') { %>
                        <a data-id="<%= id %>" style="cursor: pointer;" class="trash_recipe" onclick="javascript:void(0)">[trash recipe]</a>
                    <% } else if (current_page == 'recipe_database') { %>
                        <a data-id="<%= id %>" style="cursor: pointer;" id="copy_recipe" onclick="javascript:void(0)">[quick copy]</a>
                    <% } else if (current_page == 'my_favourites') { %>
                        <a data-id="<%= id %>" style="cursor: pointer;" class="remove_favourites" onclick="javascript:void(0)">[remove favourite]</a>
                    <% } else if (current_page == 'trash_list') { %>
                        <a data-id="<%= id %>" style="cursor: pointer;" class="restore_recipe" onclick="javascript:void(0)">[restore recipe]</a>
                        <br><br>
                        <a data-id="<%= id %>" style="cursor: pointer;" class="delete_recipe" onclick="javascript:void(0)">[delete recipe]</a>
                    <% } %>
                </td>
            </tr>
        </table>
        </br>
        <div class="fitness_block_wrapper" style="">
            <table width="100%">
                <tr>
                    <td>
                        CALORIES
                        <span class="grey_title"><%= calories || '0.00' %></span>
                    </td>
                    <td>
                        ENERGY
                        <span class="grey_title"><%= energy || '0.00' %></span>
                    </td>
                    <td>
                        PROTEIN
                        <span class="grey_title"><%= protein || '0.00' %></span>
                    </td>
                    <td>
                        FAT
                        <span class="grey_title"><%= fats || '0.00' %></span>
                    </td>
                    <td>
                        CARB
                        <span class="grey_title"><%= carbs || '0.00' %></span>
                    </td>
                    <td>
                        SUGAR
                        <span class="grey_title"><%= total_sugars || '0.00' %></span>
                    </td>
                </tr>
            </table>
        </div>
        <br/>
        <hr>
        <br/>
    </div>
    
</script>



<!--  NUTRITION DATABASE list core template -->
<script type="text/template" id="nutrition_database_list_template">
    

    <div class="fitness_block_wrapper" style="margin-top: 20px;">
        <div >
            <br/>
            <table>
                <tr>
                    <td>
                        <h5>Search Database</h5>
                    </td>
                    <td>
                        <input  id="search_field" style="display:inline-block;"  type="text" name="search" />
                    </td>
                    <td>
                        <a style="cursor: pointer;" class="search_ingredients" onclick="javascript:void(0)">[Search]</a>
                        <a style="cursor: pointer;" class="clear" onclick="javascript:void(0)">[Clear]</a>
                    </td>
                </tr>
            </table>
            <br/>

            <div id="ingredients_items"></div>   
            <div style="text-align:center;" id="pagination_container"></div>
        </div>
    </div>
</script>


<!--  NUTRITION DATABASE list items template -->
<script type="text/template" id="nutrition_database_list_items_template">
    <div class="internal_wrapper">
    <table width="100%">
        <thead>
            <th>Ingredient Name</th>
            <th>Calories</th>
            <th>Energy</th>
            <th>Protein</th>
            <th>Fat (total)</th>
            <th>Fat (sat)</th>
            <th>Carbs</th>
            <th>Sugar</th>
            <th>Sodium</th>
            <th>SG</th>
        </thead>
        <tbody>
        <% 
        if(items == null){
            %>
                    <tr>
                        <td>
                        <td>
                    </tr>
             </tbody>
            </table>
            <%
            return false;
        }



        if(typeof items !== 'undefined'){

            _.each(items, function(item){ 
             %>
                <tr >
                    <td width="40%">
                        <a data-id="<%= item.id %>" style="cursor: pointer;" class="ingredient_name" onclick="javascript:void(0)">
                            <%= item.ingredient_name %>
                        </a>
                    </td>
                    <td>
                        <%= item.calories || '0.00' %>
                    </td>
                    <td>
                        <%= item.energy || '0.00' %>
                    </td>
                    <td>
                        <%= item.protein || '0.00' %>
                    </td>
                    <td>
                        <%= item.fats || '0.00' %>
                    </td>
                    <td>
                        <%= item.saturated_fat || '0.00' %>
                    </td>
                    <td>
                        <%= item.carbs || '0.00' %>
                    </td>
                    <td>
                        <%= item.total_sugars || '0.00' %>
                    </td>
                    <td>
                        <%= item.sodium || '0.00' %>
                    </td>
                    <td>
                        <%= item.specific_gravity || '0.00' %>
                    </td>
                </tr>
                <tr class="description" data-description="<%= item.id %>" style="display:none">
                    <td colspan="10">
                        <%= item.description %>
                    </td>
                </tr>
            <% 
            })
        }
        
        if((typeof items !== 'undefined') && items.length == 0) {
        %>
        <tr>
            <td style="text-align:center;" colspan="10">
                <%= 'No Ingredients found.' %>
            </td>
        </tr>
        <%
        } %>
        </tbody>
    </table>
    </div>
</script>



<!--  NUTRITION DATABASE item template -->
<script type="text/template" id="nutrition_database_item_template">
    <div class="fitness_block_wrapper" style="margin-top: 20px;">
        <div class="internal_wrapper2">
            <form action="" id="add_ingredient_form">
                <table width="100%">
                    <tr>
                        <td width="200">
                            INGREDIENT NAME
                        </td>
                        <td>
                            <input style="width:400px;"  id="jform_ingredient_name" class="inputbox required" type="text"  name="jform[ingredient_name]">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            INGREDIENT DESCRIPTION
                        </td>
                        <td>
                            <div id="jform_description" style="color: #696969;min-height:100px; width:410px;background: none repeat scroll 0 0 rgba(255, 255, 255, 0.1);padding:5px;" contenteditable="true"></div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>NOTE: Enter ALL nutrient values based on 100g Edible Portion (EP)</b>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            MEASUREMENT UNIT
                        </td>
                        <td>
                            <select id="jform_measurement_unit" class="inputbox required" size="1" name="jform[measurement_unit]">
                                <option value="">-Select-</option>
                                <option value="1">GRAMS</option>
                                <option value="2">MILLILITRES</option>
                            </select>
                        </td>
                    </tr>
                </table>
                <div class="main_fields_wrapper" style="display: none;"> 
                    <div id="measurement_unit_wrapper" style="display:none;">
                        <table width="100%">
                            <tr>
                                <td width="60">
                                    <div style="background-size: 40px auto;width:40px;height:40px; background-image:url('components/com_fitness/assets/images/exclamation.png'); background-repeat:no-repeat;"></div>
                                </td>
                                <td>
                                <%
                                if (!window.location.origin) {
                                   window.location.origin = window.location.protocol+"//"+window.location.host;
                                }
                                %>
                                    You are entering a liquid ingredient!<br/>
                                     See this <a target="_blank" href="administrator/components/com_fitness/assets/includes/Specific gravity appendix.pdf">LIST</a> for a suitable specific gravity
                                    for your product. Is this the correct specific gravity for this ingredient?
                                </td>
                            </tr>
                        </table>
                        <br/>
                        <table>
                            <tr>
                                <td>
                                    <label id="jform_specific_gravity-lbl" class="" for="jform_specific_gravity">Specific Gravity</label> 
                                </td>
                                <td>
                                    <input id="jform_specific_gravity" class="inputbox number width_50" type="text" size="10" value="" name="jform[specific_gravity]">
                                </td>
                                <td>
                                    SG = ml for 100 grams 
                                </td>
                                <td>
                                    <input readonly id="specific_gravity_grams" class="inputbox width_50" type="text" size="10" value="" name="specific_gravity_grams"><span style="position: absolute;padding-top:5px;">ml</span>
                                </td>
                            </tr>
                        </table>
                        <br/>
                        <p>
                            To correctly enter the nutritional values of this liquid ingredient into the
                            database, you must enter the product nutritional values (from the nutrition panel
                            on the product) taken from the <b>"average quantity per 100ml"</b> serving size column...
                        </p>
                        <br/>
                    </div>
                    <div class="clr"></div>
                    <table id="ingradient_fields" width="100%">
                        <tr>
                            <td class="millilitres_column" width="50%">
                                <b>ENTER NUTRITION INFORMATION</b><br/>
                                (as on product label: average per 100ml)
                            </td>
                            <td id="right_title"  width="50%">
                                <b>Values as 100g Edible Portion (EP)</b><br/>
                                (stored in nutrition database)                       
                            </td>
                        </tr>

                        <tr>
                            <td class="millilitres_column">
                                (click <a target="_blank" href="components/com_fitness/assets/images/ingredient_example.png">here</a> to view an example) 
                            </td>
                            <td>
                                <label id="jform_calories-lbl" class="" for="jform_calories">Calories</label>
                                <input  id="jform_calories" class="inputbox width_50" type="text" size="10" value="" name="jform[calories]">
                            </td>
                        </tr>

                        <tr>
                            <td class="millilitres_column">
                                <label id="jform_energy-lbl" class="" for="jform_energy">Energy (kJ)</label>
                                <input id="enter_energy" class="inputbox number width_50" type="text" size="10" value="" name="enter_energy">
                            </td>
                            <td>
                                <label id="jform_energy-lbl" class="" for="jform_energy">Energy (kJ)</label>
                                <input  id="jform_energy" class="inputbox width_50" type="text" size="10" value="" name="jform[energy]">
                            </td>
                        </tr>

                        <tr>
                            <td class="millilitres_column">
                                <label id="jform_protein-lbl" class="hasTip" title="" for="jform_protein">Protein (g)</label>
                                <input id="enter_protein" class="inputbox number width_50" type="text" size="10" value="" name="enter_protein">
                            </td>
                            <td>
                                <label id="jform_protein-lbl" class="hasTip" title="" for="jform_protein">Protein (g)</label>
                                <input  id="jform_protein" class="inputbox  width_50" type="text" size="10" value="" name="jform[protein]">
                            </td>
                        </tr>

                        <tr>
                            <td class="millilitres_column">
                                <label id="jform_fats-lbl" class="" for="jform_fats">Total Fat (g)</label>
                                <input id="enter_fats" class="inputbox validate-numeri width_50" type="text" size="10" value="" name="enter_fats">
                            </td>
                            <td>
                                <label id="jform_fats-lbl" class="" for="jform_fats">Total Fat (g)</label>
                                <input  id="jform_fats" class="inputbox width_50" type="text" size="10" value="" name="jform[fats]">
                            </td>
                        </tr>

                        <tr>
                            <td class="millilitres_column">
                                <label id="jform_saturated_fat-lbl" class="hasTip" title="" for="jform_saturated_fat">Saturated Fat (g)</label>
                                <input id="enter_saturated_fat" class="inputbox number width_50" type="text" size="10" value="" name="enter_saturated_fat">
                                <div class="clr"></div>
                            </td>
                            <td>
                                <label id="jform_saturated_fat-lbl" class="hasTip" title="" for="jform_saturated_fat">Saturated Fat (g)</label>
                                <input  id="jform_saturated_fat" class="inputbox width_50" type="text" size="10" value="" name="jform[saturated_fat]">
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                               <div id="saturated_error" class="error_message"></div>
                            </td>
                        </tr>

                        <tr>
                            <td class="millilitres_column">
                                <label id="jform_carbs-lbl" class="" for="jform_carbs">Carbohydrate (g)</label>
                                <input id="enter_carbs" class="inputbox number width_50" type="text" size="10" value="" name="enter_carbs">
                            </td>
                            <td>
                                <label id="jform_carbs-lbl" class="" for="jform_carbs">Carbohydrate (g)</label>
                                <input  id="jform_carbs" class="inputbox width_50" type="text" size="10" value="" name="jform[carbs]">
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                               <div id="sum_100_error" class="error_message"></div>
                            </td>
                        </tr>

                        <tr>
                            <td class="millilitres_column">
                                <label id="jform_total_sugars-lbl" class="" for="jform_total_sugars">Sugar (g)</label>
                                <input id="enter_total_sugars" class="inputbox number width_50" type="text" size="10" value="" name="enter_total_sugars">
                            </td>
                            <td>
                                <label id="jform_total_sugars-lbl" class="" for="jform_total_sugars">Sugar (g)</label>
                                <input  id="jform_total_sugars" class="inputbox width_50" type="text" size="10" value="" name="jform[total_sugars]">
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                               <div id="sugars_error" class="error_message"></div> 
                            </td>
                        </tr>

                        <tr>
                            <td class="millilitres_column">
                                <label id="jform_sodium-lbl" class="hasTip" title="" for="jform_sodium">Sodium (mg)</label>
                                <input id="enter_sodium" class="inputbox number width_50" type="text" size="10" value="" name="enter_sodium">
                            </td>
                            <td>
                                <label id="jform_sodium-lbl" class="hasTip" title="" for="jform_sodium">Sodium (mg)</label>
                                <input  id="jform_sodium" class="inputbox width_50" type="text" size="10" value="" name="jform[sodium]">
                            </td>
                        </tr>
                    </table>
                 </div>
            </form>
        </div>
    </div>
</script>

<!--  latest recipes item template -->
<script type="text/template" id="recipes_latest_item_template">
    <div class="recipe_database_latest_item_wrapper" style="margin-top: 0px;">
        <table  width="100%">
            <tr>
                <td colspan="2">
                     <h5><%= recipe_name %></h5>
                </td>
            </tr>
            <tr>
            <tr>
                <td width="40%">Author: </td>
                <td>
                    <span class="grey_title">
                         <%= author %>
                    </span>
                </td>
            </tr>
            <tr>
                <td>Created:</td>
                <td>
                    <span class="grey_title">
                        <%
                        var d1 = new Date(Date.parse(created));            
                        var created_date = moment(d1).format("ddd, D MMM  YY"); 
                        
                        %>
                        <%= created_date %>
                    </span>
                </td>
            </tr>
            <tr>
                <td>Calories:</td>
                <td>
                    <span class="grey_title"><%= calories || '0.00' %></span>
                </td>
            </tr>
            <tr>
                <td>Protein:</td>
                <td>
                    <span class="grey_title"><%= protein || '0.00' %></span>
                </td>
            </tr>
            <tr>
                <td>Fat:</td>
                <td>
                    <span class="grey_title"><%= fats || '0.00' %></span>
                </td>
            </tr>
            <tr>
                <td>Carb:</td>
                <td>
                    <span class="grey_title"><%= carbs || '0.00' %></span>
                </td>
            </tr>
            <tr>
                <td>Serves:</td>
                <td>
                    <span class="grey_title"><%= number_serves %></span>
                </td>
            </tr>
            <tr>
                <td></td>
                <td style="text-align:right; vertical-align:bottom;">
                    <a data-id="<%= id %>" style="cursor: pointer;" class="view_recipe" onclick="javascript:void(0)">[view]</a>
                </td>
            </tr>
        </table>

    </div>
    <hr>
</script>

<!--  latest recipes wrapper template -->
<script type="text/template" id="recipes_latest_wrapper_template">
    <div class="fitness_block_wrapper" style="">
        <h5>LATEST RECIPES</h5>
        <div class="clr"></div>
        <hr class="orange_line">
        <div class="internal_wrapper">
            <div id="latest_recipes_container"></div>
        </div>
    </div>
</script>


<!--  categories filter template -->
<script type="text/template" id="recipe_database_filter_template">
    <div class="fitness_block_wrapper" style="">
        <h5>FILTER CATEGORIES</h5>
        <div class="clr"></div>
        <hr class="orange_line">
        <div class="internal_wrapper">
            <select class="dark_input_style" multiple size="<%= items.length + 1 %>" id="categories_filter" name="categories_filter[]"  style="width:100%;">
                <option value="">ALL CATEGORIES</option>
                <% if (typeof items !== "undefined") { %>
                    <% _.each(items, function(item, key){ %>
                          <option value="<%= item.id %>"><%= item.name %></option>
                    <% }) %>
                <% } %>
            </select>
        </div>
    </div>
</script>




